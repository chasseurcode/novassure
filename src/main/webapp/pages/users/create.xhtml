<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sec="http://www.springframework.org/security/facelets/tags">
<h:head>
</h:head>
<body>

	<p:dialog id="popup" widgetVar="popnewuser"
		header="CrÃ©ation utilisateur" draggable="false">
		<h:form id="newUser">
			<h:panelGrid columns="2" cellpadding="7" style="width:400px;height:300px;margin-bottom:20px;">
				<p:outputLabel value="Nom d'utilisateur :" />
				<p:inputText value="#{userBean.currentUser.username}" />

				<p:outputLabel value="E-mail :" />
				<p:inputText value="#{userBean.currentUser.email}" />

				<p:outputLabel value="Mot de passe :" />
				<p:password value="#{userBean.currentUser.password}" />

				<p:outputLabel value="Confirmer le mot de passe :" />
				<p:password value="#{userBean.currentUser.password}" />

				<h:outputLabel for="menu" value="Selection des Role:" />
				<p:selectCheckboxMenu id="menu" style="width:150px;"
					value="#{userBean.selectedRole}" label="Roles" filter="true"
					filterMatchMode="startsWith" panelStyle="width:250px">
					<f:selectItems value="#{userBean.roles}" var="role"
						itemLabel="#{role.name}" itemValue="#{role.id}" />
				</p:selectCheckboxMenu>
			</h:panelGrid>
			<p:commandButton style="display:block;margin:auto;margin-bottom:20px;" value="Valider"
				actionListener="#{userBean.createUser}" update=":users"
				oncomplete="PF('popnewuser').hide();" />
		</h:form>
	</p:dialog>
</body>
</html>